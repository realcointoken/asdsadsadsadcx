{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nanoissuperior/ChainBridge/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nanoissuperior/ChainBridge/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nanoissuperior/ChainBridge/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import logo from\"./logo.svg\";import\"./App.css\";import Header from\"./components/Header.js\";import PoolStats from\"./components/TransferCard.js\";import Transferout from\"./components/TransferCardout.js\";import Poolbutton from\"./components/Poolbutton.js\";import Web3 from\"web3\";import ConnectWallet from\"./components/Connectwallet.js\";import qr from\"./qr.png\";var web3=new Web3(Web3.givenProvider);function App(){var ethereum=window.ethereum;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),addr=_useState2[0],setAddr=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),fundingScreen=_useState4[0],setFundingScreen=_useState4[1];var _useState5=useState(\"1\"),_useState6=_slicedToArray(_useState5,2),progressBar=_useState6[0],setProgressBar=_useState6[1];var _useState7=useState(\"1\"),_useState8=_slicedToArray(_useState7,2),progress=_useState8[0],setProgress=_useState8[1];checkProgress();function _getAccount2(){return _getAccount.apply(this,arguments);}function _getAccount(){_getAccount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var accounts,account;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ethereum.request({method:\"eth_requestAccounts\"});case 2:accounts=_context.sent;account=accounts[0];setAddr(account);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getAccount.apply(this,arguments);}function changeScreen(number){setFundingScreen(number);}function checkProgress(){fetch(\"http://api.nanoissuperior.co.uk:4200/proxy/?action=account_balance&account=nano_374ebdxydfbdngnr6hibbs8mms7zs5t656pd5yjc7fsewp1n77dn8t75zkbd\").then(function(res){return res.json();}).then(function(result){checkPercentage((parseInt(result.balance)+parseInt(result.pending))/1000000000000000000000000000000);setProgress((parseInt(result.balance)+parseInt(result.pending))/1000000000000000000000000000000);},function(error){console.log(error);});}function viewInterface(){var width=window.innerWidth;if(width>700){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return changeScreen(2);},id:\"seeinter\",className:\"container\"},/*#__PURE__*/React.createElement(\"a\",{id:\"joinpool\"},\"View the interface\"));}}function checkPercentage(_x){return _checkPercentage.apply(this,arguments);}function _checkPercentage(){_checkPercentage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(Number){var A,B,percDiff;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:A=Number;B=5000;if(A<100){A=100;}else{A=A;}percDiff=A/B*100;setProgressBar(percDiff.toString());case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _checkPercentage.apply(this,arguments);}function sendTransaction(){return _sendTransaction.apply(this,arguments);}function _sendTransaction(){_sendTransaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var ethereum,params;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:ethereum=window.ethereum;params=[{from:addr,to:\"null\",gas:\"null\",// 30400\ngasPrice:\"0x9184e72a000\",// 10000000000000\nvalue:\"0x9184e72a\",// 2441406250\ndata:\"null\"}];ethereum.request({method:\"eth_sendTransaction\",params:params}).then(function(result){// The result varies by by RPC method.\n// For example, this method will return a transaction hash hexadecimal string on success.\n}).catch(function(error){// If the request fails, the Promise will reject with an error.\n});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _sendTransaction.apply(this,arguments);}if(fundingScreen===1){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"header\",{className:\"App-header\"},/*#__PURE__*/React.createElement(Header,null)),/*#__PURE__*/React.createElement(\"body\",{className:\"bodyfund\"},\" \",/*#__PURE__*/React.createElement(\"p\",{id:\"fundingtext\"},\" Our funding goal is:\"),/*#__PURE__*/React.createElement(\"h1\",{id:\"amount\"},\"5,000 Nano\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"meter\"},/*#__PURE__*/React.createElement(\"span\",{style:{width:\"\".concat(progressBar,\"%\")}}))),/*#__PURE__*/React.createElement(\"p\",null,\"Currently we are at \",Math.round(progress*100)/100,\" Nano\"),/*#__PURE__*/React.createElement(\"div\",{id:\"fund\",onClick:function onClick(){return changeScreen(3);},className:\"container\"},/*#__PURE__*/React.createElement(\"a\",null,\"Fund\")),viewInterface()));}else if(fundingScreen===2){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"header\",{className:\"App-header\"},/*#__PURE__*/React.createElement(Header,null)),/*#__PURE__*/React.createElement(ConnectWallet,{getAccount:function getAccount(){return _getAccount2();},addr:addr}),/*#__PURE__*/React.createElement(\"body\",{className:\"bodydapp\"},/*#__PURE__*/React.createElement(\"p\",null,\"Use this as a bridge for moving Nano to and from ethereum in the form of WNANO.\"),/*#__PURE__*/React.createElement(PoolStats,null)),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return changeScreen(1);},id:\"seeinter\",className:\"container\"},/*#__PURE__*/React.createElement(\"a\",{id:\"joinpool\"},\"Fund the project\")));}else if(fundingScreen===3){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"header\",{className:\"App-header\"},/*#__PURE__*/React.createElement(Header,null)),/*#__PURE__*/React.createElement(\"body\",{className:\"bodyfund\"},/*#__PURE__*/React.createElement(\"img\",{id:\"qrcode\",src:qr}),/*#__PURE__*/React.createElement(\"div\",{id:\"fund\",onClick:function onClick(){navigator.clipboard.writeText(\"nano_374ebdxydfbdngnr6hibbs8mms7zs5t656pd5yjc7fsewp1n77dn8t75zkbd\");},className:\"container\"},/*#__PURE__*/React.createElement(\"a\",null,\"Copy address \\uD83D\\uDCCB\")),/*#__PURE__*/React.createElement(\"div\",{id:\"fund\",onClick:function onClick(){return changeScreen(1);},className:\"container\"},/*#__PURE__*/React.createElement(\"a\",null,\"Back\")),viewInterface()));}}export default App;","map":{"version":3,"sources":["/Users/nanoissuperior/ChainBridge/src/App.js"],"names":["React","useState","Header","PoolStats","Transferout","Poolbutton","Web3","ConnectWallet","qr","web3","givenProvider","App","ethereum","window","addr","setAddr","fundingScreen","setFundingScreen","progressBar","setProgressBar","progress","setProgress","checkProgress","getAccount","request","method","accounts","account","changeScreen","number","fetch","then","res","json","result","checkPercentage","parseInt","balance","pending","error","console","log","viewInterface","width","innerWidth","Number","A","B","percDiff","toString","sendTransaction","params","from","to","gas","gasPrice","value","data","catch","Math","round","navigator","clipboard","writeText"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport Header from \"./components/Header.js\";\nimport PoolStats from \"./components/TransferCard.js\";\nimport Transferout from \"./components/TransferCardout.js\";\n\nimport Poolbutton from \"./components/Poolbutton.js\";\nimport Web3 from \"web3\";\nimport ConnectWallet from \"./components/Connectwallet.js\";\nimport qr from \"./qr.png\";\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const ethereum = window.ethereum;\n\n  const [addr, setAddr] = useState(\"\");\n  const [fundingScreen, setFundingScreen] = useState(1);\n  const [progressBar, setProgressBar] = useState(\"1\");\n  const [progress, setProgress] = useState(\"1\");\n  checkProgress();\n\n  async function getAccount() {\n    const accounts = await ethereum.request({\n      method: \"eth_requestAccounts\",\n    });\n    const account = accounts[0];\n    setAddr(account);\n  }\n  function changeScreen(number) {\n    setFundingScreen(number);\n  }\n  function checkProgress() {\n    fetch(\n      \"http://api.nanoissuperior.co.uk:4200/proxy/?action=account_balance&account=nano_374ebdxydfbdngnr6hibbs8mms7zs5t656pd5yjc7fsewp1n77dn8t75zkbd\"\n    )\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          checkPercentage(\n            (parseInt(result.balance) + parseInt(result.pending)) /\n              1000000000000000000000000000000\n          );\n          setProgress(\n            (parseInt(result.balance) + parseInt(result.pending)) /\n              1000000000000000000000000000000\n          );\n        },\n\n        (error) => {\n          console.log(error);\n        }\n      );\n  }\n  function viewInterface() {\n    let width = window.innerWidth;\n    if (width > 700) {\n      return (\n        <div\n          onClick={() => changeScreen(2)}\n          id=\"seeinter\"\n          className=\"container\"\n        >\n          <a id=\"joinpool\">View the interface</a>\n        </div>\n      );\n    }\n  }\n  async function checkPercentage(Number) {\n    let A = Number;\n    const B = 5000;\n    if (A < 100) {\n      A = 100;\n    } else {\n      A = A;\n    }\n\n    const percDiff = (A / B) * 100;\n    setProgressBar(percDiff.toString());\n  }\n  async function sendTransaction() {\n    const ethereum = window.ethereum;\n    const params = [\n      {\n        from: addr,\n        to: \"null\",\n        gas: \"null\", // 30400\n        gasPrice: \"0x9184e72a000\", // 10000000000000\n        value: \"0x9184e72a\", // 2441406250\n        data: \"null\",\n      },\n    ];\n    ethereum\n      .request({\n        method: \"eth_sendTransaction\",\n        params,\n      })\n      .then((result) => {\n        // The result varies by by RPC method.\n        // For example, this method will return a transaction hash hexadecimal string on success.\n      })\n      .catch((error) => {\n        // If the request fails, the Promise will reject with an error.\n      });\n  }\n\n  if (fundingScreen === 1) {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Header />\n        </header>\n        <body className=\"bodyfund\">\n          {\" \"}\n          <p id=\"fundingtext\"> Our funding goal is:</p>\n          <h1 id=\"amount\">5,000 Nano</h1>\n          <div className=\"container6\">\n            <div className=\"meter\">\n              <span style={{ width: `${progressBar}%` }}></span>\n            </div>\n          </div>\n          <p>Currently we are at {Math.round(progress * 100) / 100} Nano</p>\n          <div id=\"fund\" onClick={() => changeScreen(3)} className=\"container\">\n            <a>Fund</a>\n          </div>\n          {viewInterface()}\n        </body>\n      </div>\n    );\n  } else if (fundingScreen === 2) {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Header />\n        </header>\n        <ConnectWallet getAccount={() => getAccount()} addr={addr} />\n        <body className=\"bodydapp\">\n          <p>\n            Use this as a bridge for moving Nano to and from ethereum in the\n            form of WNANO.\n          </p>\n          <PoolStats />\n        </body>\n        <div\n          onClick={() => changeScreen(1)}\n          id=\"seeinter\"\n          className=\"container\"\n        >\n          <a id=\"joinpool\">Fund the project</a>\n        </div>\n      </div>\n    );\n  } else if (fundingScreen === 3) {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Header />\n        </header>\n        <body className=\"bodyfund\">\n          <img id=\"qrcode\" src={qr} />\n          <div\n            id=\"fund\"\n            onClick={() => {\n              navigator.clipboard.writeText(\n                \"nano_374ebdxydfbdngnr6hibbs8mms7zs5t656pd5yjc7fsewp1n77dn8t75zkbd\"\n              );\n            }}\n            className=\"container\"\n          >\n            <a>Copy address 📋</a>\n          </div>\n\n          <div id=\"fund\" onClick={() => changeScreen(1)} className=\"container\">\n            <a>Back</a>\n          </div>\n          {viewInterface()}\n        </body>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}